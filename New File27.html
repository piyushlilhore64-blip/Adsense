<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AIMBOT FX</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Space+Mono:wght@400;700&display=swap');
        
        /* Ensures all programmatic scrolling (e.g., internal link jumps) is smooth */
        html {
            scroll-behavior: smooth; 
        }

        :root {
            --neon-blue: #00FFFF;
            --neon-pink: #FF00FF;
            --dark-bg: #1A1A2E;
            --console-green: #00FF00;
        }

        body {
            background-color: #0A0A15; /* Even darker background */
            font-family: 'Orbitron', sans-serif;
            color: #E0E0E0;
        }

        /* App Title Glow */
        .neon-glow {
            text-shadow: 0 0 5px var(--neon-blue), 0 0 10px var(--neon-blue), 0 0 20px rgba(0, 255, 255, 0.5);
            color: #FFFFFF;
        }

        /* Generate Key Button Style */
        .btn-neon {
            background-color: var(--neon-pink);
            transition: all 0.3s ease;
            box-shadow: 0 0 10px var(--neon-pink);
            opacity: 0.5; /* Default dim state */
            cursor: not-allowed;
        }
        .btn-neon.active {
            opacity: 1;
            cursor: pointer;
        }
        .btn-neon.active:hover {
            background-color: var(--neon-blue);
            box-shadow: 0 0 15px var(--neon-blue), 0 0 30px var(--neon-blue);
        }

        /* Server List Item (New Style - Now individual boxes) */
        .server-item {
            display: flex;
            align-items: center;
            padding: 12px 16px;
            border-radius: 8px;
            /* Border and background applied to each item */
            border: 2px solid rgba(255, 0, 255, 0.4); 
            background-color: rgba(0, 0, 0, 0.4);
            transition: all 0.2s ease;
            cursor: pointer;
            box-shadow: 0 0 5px rgba(255, 0, 255, 0.3);
        }
        .server-item:hover {
            border-color: var(--neon-blue);
            box-shadow: 0 0 10px var(--neon-blue);
        }
        .server-item.selected {
            border-color: var(--neon-blue);
            background-color: rgba(0, 255, 255, 0.2);
            box-shadow: 0 0 15px rgba(0, 255, 255, 0.7);
        }
        
        /* Custom Radio Button Indicator */
        .radio-indicator {
            width: 16px;
            height: 16px;
            border: 2px solid var(--neon-pink);
            border-radius: 50%;
            margin-right: 12px;
            transition: all 0.2s ease;
            flex-shrink: 0;
        }
        .server-item.selected .radio-indicator {
            border-color: var(--neon-blue);
            background-color: var(--neon-blue);
            box-shadow: 0 0 5px var(--neon-blue);
        }

        /* Console Box (Terminal Output) */
        .console-box {
            border: 1px solid;
            border-image-slice: 1;
            /* Gradient to match the look */
            border-image-source: linear-gradient(to right, #00FFFF, #FF00FF);
            box-shadow: 0 0 8px rgba(0, 255, 255, 0.4), 0 0 12px rgba(255, 0, 255, 0.4);
            background-color: rgba(0, 0, 10, 0.8);
        }

        /* Large Blank Placeholder Box - Increased Size to 280px */
        .blank-placeholder-box {
            min-height: 280px; /* Increased height */
            border: 2px dashed #00FFFF; /* Neon blue dashed border */
            background-color: rgba(0, 255, 255, 0.05); /* Very slight blue background */
            box-shadow: 0 0 5px rgba(0, 255, 255, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            color: #007777; /* Dim teal color */
            font-family: 'Space Mono', monospace;
            font-size: 0.75rem;
            text-align: center;
        }


        /* Terminal Text */
        .terminal-text {
            color: var(--neon-blue); 
            text-shadow: 0 0 2px var(--neon-blue);
            font-family: 'Space Mono', monospace;
            white-space: pre-wrap;
            line-height: 1.5;
        }

        /* Protocol Section Header */
        .protocol-header {
            color: var(--neon-blue);
            text-shadow: 0 0 5px var(--neon-blue);
            border-bottom: 2px solid var(--neon-blue);
            padding-bottom: 4px;
        }

        /* Protocol Step Circle */
        .protocol-step {
            border: 2px solid var(--neon-blue);
            box-shadow: 0 0 8px var(--neon-blue);
            width: 30px;
            height: 30px;
        }
        .protocol-number {
             color: var(--neon-blue);
             text-shadow: 0 0 3px var(--neon-blue);
             font-weight: 700;
        }
        .protocol-text-header {
            color: #FFFFFF;
            font-weight: 700;
        }
        
        /* Guide Text Styling */
        .guide-box {
             background-color: #331133; /* Dark purple/pink background */
             color: #E0E0E0;
             padding: 1rem;
             border-radius: 8px;
             box-shadow: 0 0 10px rgba(255, 0, 255, 0.5); /* Pink shadow */
             font-family: sans-serif; /* Use a non-mono font for readability */
        }
        
        /* NEW STYLING: Individual Topic Box */
        .topic-box {
            background-color: #1A081A; /* Darker background for the individual topic */
            border: 1px solid rgba(255, 0, 255, 0.4); /* Pink border */
            border-radius: 6px;
            padding: 1rem;
            margin-top: 1.5rem; 
            box-shadow: 0 0 5px rgba(255, 0, 255, 0.2);
        }
        
        /* Guide Title */
        .guide-title {
            background-color: rgba(0, 255, 255, 0.1); /* Light blue background for contrast */
            color: var(--neon-blue);
            padding: 8px;
            border-left: 5px solid var(--neon-blue);
            font-weight: bold;
            font-size: 1.125rem; /* text-lg */
            margin-bottom: 1rem;
            text-shadow: 0 0 2px rgba(0, 255, 255, 0.8);
        }
        
        /* Guide Sub-header - Styled like a box */
        .guide-subheader-box {
             background-color: #220522; /* Even darker background for subheader box */
             color: #FFFF00; /* Yellow text for emphasis */
             padding: 8px 10px;
             border: 1px solid #FF0;
             margin-top: 1.25rem;
             margin-bottom: 0.5rem;
             font-weight: bold;
             font-size: 1rem;
             text-shadow: 0 0 2px rgba(255, 255, 0, 0.8);
        }

        /* Guide Paragraphs */
        .guide-paragraph {
            margin-bottom: 1rem;
            line-height: 1.5;
            color: #ccc;
        }
        
        /* Footer Styling */
        .footer-text {
            color: #777;
            font-size: 0.7rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
    </style>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
</head>
<body class="flex items-center justify-center min-h-screen p-4">

    <div class="fixed top-2 right-2 z-50">
        <a href="admin.html" class="bg-gray-700 hover:bg-gray-600 text-xs py-1 px-3 rounded-full transition duration-300">
            Go to Admin Panel
        </a>
    </div>

    <div id="main-app" class="w-full max-w-sm p-6 rounded-lg space-y-6">
        
        <header class="text-center">
            <div class="w-16 h-16 mx-auto rounded-full mb-3 border-2 border-transparent" style="box-shadow: 0 0 15px var(--neon-blue), inset 0 0 15px var(--neon-blue);"></div>
            
            <h1 id="app-title" class="text-3xl font-bold neon-glow mb-6">Loading App...</h1>
        </header>
        
        <div class="blank-placeholder-box p-4 rounded-md">
            [DYNAMIC AD/CONTENT SLOT - LARGE SIZE]
        </div>
        <div id="server-selection-slot" class="space-y-3">
             <p class="text-center text-sm font-bold text-cyan-400 uppercase tracking-widest mb-4">Select Server</p>
             <div id="server-buttons-container" class="space-y-2">
                <p id="loading-servers" class="col-span-3 text-center text-xs text-gray-500">Loading servers from Firebase...</p>
             </div>
        </div>
        <div class="console-box p-4 rounded-lg">
            <pre id="console-text" class="terminal-text text-sm">
> Initializing Neon Interface...
> Awaiting System Authentication...
> Status: Connecting to Firebase...
            </pre>
        </div>

        <button id="generate-key-btn" onclick="window.generateKey()" class="w-full btn-neon text-gray-900 font-bold py-3 rounded-md uppercase tracking-widest text-lg focus:outline-none focus:ring-4 focus:ring-opacity-50 focus:ring-blue-500">
            Generate Access Key
        </button>
        
        <div id="message-box" class="p-3 mt-4 text-center rounded-md hidden"></div>

        <section class="mt-8 space-y-4">
            <h2 class="text-xl protocol-header text-left uppercase tracking-widest">Access Protocol</h2>
            
            <div class="space-y-4">
                <div class="flex items-start space-x-3">
                    <div class="protocol-step flex-shrink-0 flex items-center justify-center rounded-full bg-transparent">
                        <span class="protocol-number text-sm">01</span>
                    </div>
                    <div>
                        <p class="protocol-text-header text-sm">Initiate Server Selection</p>
                        <p class="text-xs text-gray-400">Choose an available server to prepare your unique session ID.</p>
                    </div>
                </div>

                <div class="flex items-start space-x-3">
                    <div class="protocol-step flex-shrink-0 flex items-center justify-center rounded-full bg-transparent">
                        <span class="protocol-number text-sm">02</span>
                    </div>
                    <div>
                        <p class="protocol-text-header text-sm">Execute Generation</p>
                        <p class="text-xs text-gray-400">Click 'Generate Access Key' to execute the redirect protocol.</p>
                    </div>
                </div>

                <div class="flex items-start space-x-3">
                    <div class="protocol-step flex-shrink-0 flex items-center justify-center rounded-full bg-transparent">
                        <span class="protocol-number text-sm">03</span>
                    </div>
                    <div>
                        <p class="protocol-text-header text-sm">Authenticate</p>
                        <p class="text-xs text-gray-400">Complete the external steps and return to this protocol.</p>
                    </div>
                </div>
                
                 <div class="flex items-start space-x-3">
                    <div class="protocol-step flex-shrink-0 flex items-center justify-center rounded-full bg-transparent">
                        <span class="protocol-number text-sm">04</span>
                    </div>
                    <div>
                        <p class="protocol-text-header text-sm">Deploy</p>
                        <p class="text-xs text-gray-400">The system will verify and deploy your exclusive code here.</p>
                    </div>
                </div>
            </div>
        </section>

        <div class="guide-box mt-6">
            <div class="guide-title">
                DETAILED GUIDE TO FREE FIRE ADVANCE SERVER KEY GENERATOR
            </div>
            <p class="guide-paragraph">
                Welcome to the ultimate hub for Free Fire enthusiasts! At GOD X MODS, we're dedicated to providing you with the most secure and efficient way to access the Free Fire Advance Server. If you're new to the world of beta testing in Garena Free Fire, or if you're a seasoned pro looking to stay ahead of the curve, this comprehensive guide will walk you through everything you need to know about our key generator system. With over 1000 words of in-depth information, we'll cover the history of the Advance Server, how our generator works, tips for successful activation, common myths busted, and much more. Let's dive in!
            </p>
            
            <div class="topic-box">
                <div class="guide-subheader-box" style="margin-top: 0; margin-bottom: 0.5rem;">
                    What is the Free Fire Advance Server?
                </div>
                <p class="guide-paragraph" style="margin-bottom: 0;">
                    The Free Fire Advance Server is an exclusive beta testing platform launched by Garena, the developers behind the massively popular battle royale game Free Fire. This server allows a select group of players to experience upcoming updates, new features, characters, weapons, and gameplay mechanics before they roll out to the general public. Introduced as part of Garena's commitment to delivering polished and bug-free experiences, the Advance Server has been a game-changer.
                </p>
            </div>
            <div class="topic-box">
                <div class="guide-subheader-box" style="margin-top: 0; margin-bottom: 0.5rem;">
                    How Our Key Generator Works
                </div>
                <p class="guide-paragraph" style="margin-bottom: 0;">
                    Our proprietary key generation protocol, codenamed **AIMBOT FX**, utilizes an advanced algorithm to communicate directly with the official Garena server API, simulating a successful beta tester registration request. The process is entirely cloud-based and automated. When you select a server and click 'Generate Access Key,' the system reserves a unique session ID. Upon completing the final authentication step (the external protocol), your session ID is validated, and the system securely retrieves the latest available Advance Server Activation Code, which is then displayed immediately on your screen. This bypasses common server queues and manual registration limits.
                </p>
            </div>
            <div class="topic-box">
                <div class="guide-subheader-box" style="margin-top: 0; margin-bottom: 0.5rem;">
                    Tips for Successful Key Activation
                </div>
                <ul class="list-disc list-inside guide-paragraph space-y-1" style="margin-bottom: 0; padding-left: 1rem;">
                    <li>**Use a stable internet connection:** Network interruptions during the key retrieval process can cause a key to fail validation.</li>
                    <li>**Check for server status:** If all listed servers are showing high load, wait a few minutes before trying again.</li>
                    <li>**Complete the authentication step quickly:** The session ID is only reserved for a short period to prevent abuse.</li>
                    <li>**Do not share your code:** Advance Server keys are unique and tied to your Free Fire account for the beta duration. Sharing it may lead to account suspension.</li>
                </ul>
            </div>
            <div class="topic-box">
                <div class="guide-subheader-box" style="margin-top: 0; margin-bottom: 0.5rem;">
                    Key Expiration and Renewal
                </div>
                <p class="guide-paragraph" style="margin-bottom: 0;">
                    The Advance Server is temporary, typically running for about two weeks before a major update. Your generated access key is only valid for that specific beta phase. Once the Advance Server closes, your key expires. You will need to return to this generator for a new key when the next Advance Server registration phase opens for a future update. We actively monitor Garena's release schedule to provide the latest keys.
                </p>
            </div>
            <div class="topic-box">
                <div class="guide-subheader-box" style="margin-top: 0; margin-bottom: 0.5rem;">
                    Compatibility Check (Devices)
                </div>
                <p class="guide-paragraph" style="margin-bottom: 0;">
                    The Advance Server application is a separate APK file. It typically requires an Android device running OS version 4.4 (KitKat) or higher, with at least 2GB of RAM and ample free storage. While it is primarily an Android application, players using iOS devices may need to use an Android emulator or a secondary Android device for testing. Ensure your device meets the minimum requirements before attempting to install the APK.
                </p>
            </div>
            <div class="topic-box">
                <div class="guide-subheader-box" style="margin-top: 0; margin-bottom: 0.5rem;">
                    Troubleshooting Common Errors
                </div>
                <ul class="list-disc list-inside guide-paragraph space-y-1" style="margin-bottom: 0; padding-left: 1rem;">
                    <li>**"Activation Code Used":** This usually means the code was activated on another device/account, or you waited too long after generation. Try generating a new one.</li>
                    <li>**"Server Full":** While our system minimizes this, extreme traffic can cause Garena's servers to reject connections. Try again after 30 minutes.</li>
                    <li>**Redirection Failure:** Clear your browser cache or try using a different browser/device to complete the external protocol.</li>
                </ul>
            </div>
            <div class="topic-box">
                <div class="guide-subheader-box" style="margin-top: 0; margin-bottom: 0.5rem;">
                    Key Expiration and Renewal
                </div>
                <p class="guide-paragraph" style="margin-bottom: 0;">
                    The Advance Server is temporary, typically running for about two weeks before a major update. Your generated access key is only valid for that specific beta phase. Once the Advance Server closes, your key expires. You will need to return to this generator for a new key when the next Advance Server registration phase opens for a future update. We actively monitor Garena's release schedule to provide the latest keys.
                </p>
            </div>
            <div class="topic-box">
                <div class="guide-subheader-box" style="margin-top: 0; margin-bottom: 0.5rem;">
                    Compatibility Check (Devices)
                </div>
                <p class="guide-paragraph" style="margin-bottom: 0;">
                    The Advance Server application is a separate APK file. It typically requires an Android device running OS version 4.4 (KitKat) or higher, with at least 2GB of RAM and ample free storage. While it is primarily an Android application, players using iOS devices may need to use an Android emulator or a secondary Android device for testing. Ensure your device meets the minimum requirements before attempting to install the APK.
                </p>
            </div>
            <div class="topic-box">
                <div class="guide-subheader-box" style="margin-top: 0; margin-bottom: 0.5rem;">
                    Troubleshooting Common Errors
                </div>
                <ul class="list-disc list-inside guide-paragraph space-y-1" style="margin-bottom: 0; padding-left: 1rem;">
                    <li>**"Activation Code Used":** This usually means the code was activated on another device/account, or you waited too long after generation. Try generating a new one.</li>
                    <li>**"Server Full":** While our system minimizes this, extreme traffic can cause Garena's servers to reject connections. Try again after 30 minutes.</li>
                    <li>**Redirection Failure:** Clear your browser cache or try using a different browser/device to complete the external protocol.</li>
                </ul>
            </div>
            <div class="topic-box">
                <div class="guide-subheader-box" style="margin-top: 0; margin-bottom: 0.5rem;">
                    Reporting Bugs for Rewards
                </div>
                <p class="guide-paragraph" style="margin-bottom: 0;">
                    The main purpose of the Advance Server is bug testing. Garena offers lucrative Diamond rewards for players who find and report critical bugs. Focus on new features, new weapons, and the stability of the game environment. Always provide clear, reproducible steps and video evidence when submitting a bug report to maximize your reward potential.
                </p>
            </div>
            <div class="topic-box">
                <div class="guide-subheader-box" style="margin-top: 0; margin-bottom: 0.5rem;">
                    Understanding Advance Server Patches
                </div>
                <p class="guide-paragraph" style="margin-bottom: 0;">
                    Content on the Advance Server is subject to change. Features, character abilities, or weapon stats you experience are not final and may be adjusted daily or with small patches before the global update. Treat everything as beta content. This is why player feedback is so crucial in the testing phase.
                </p>
            </div>
            <div class="topic-box">
                <div class="guide-subheader-box" style="margin-top: 0; margin-bottom: 0.5rem;">
                    Security and Anonymity Assurance
                </div>
                <p class="guide-paragraph" style="margin-bottom: 0;">
                    Our generator respects your privacy. We only use your generated **User ID** for the purpose of key retrieval and session management. We do not log personal information or account details. The system is designed for secure, anonymous access to the Garena server registration endpoint, ensuring your main Free Fire account safety is never compromised.
                </p>
            </div>
            <div class="topic-box">
                <div class="guide-subheader-box" style="margin-top: 0; margin-bottom: 0.5rem;">
                    Future of Advance Server Access
                </div>
                <p class="guide-paragraph" style="margin-bottom: 0;">
                    Access to the Free Fire Advance Server is becoming increasingly restricted as the game grows. Our generator aims to provide a continuous, reliable method for players to bypass strict manual entry requirements. By automating the registration process, we help ensure that dedicated players always have a route to participate in the beta testing programs.
                </p>
            </div>
            <div class="topic-box">
                <div class="guide-subheader-box" style="margin-top: 0; margin-bottom: 0.5rem;">
                    The Role of the Session ID
                </div>
                <p class="guide-paragraph" style="margin-bottom: 0;">
                    The Session ID is the temporary token generated immediately after you select a server. It acts as a placeholder for your unique key request. This ID is time-sensitive and ensures that once you start the protocol, no one else can steal that key slot. If the external authentication (Step 3) is not completed in time, the Session ID is automatically invalidated for security reasons.
                </p>
            </div>
            <div class="topic-box">
                <div class="guide-subheader-box" style="margin-top: 0; margin-bottom: 0.5rem;">
                    Key Generation Frequency
                </div>
                <p class="guide-paragraph" style="margin-bottom: 0;">
                    You can attempt to generate a key as often as you need, but each successful attempt consumes a key slot. If your generated key is not working, try again after a few hours, especially after the Admin updates the server list. We recommend generating one key and holding onto it until you successfully activate the Advance Server app.
                </p>
            </div>
            <div class="topic-box">
                <div class="guide-subheader-box" style="margin-top: 0; margin-bottom: 0.5rem;">
                    Disclaimer: Fair Use Policy
                </div>
                <p class="guide-paragraph" style="margin-bottom: 0;">
                    This tool is provided for educational and beta testing access only. Misuse, spamming, or attempting to flood the Garena registration system is strictly prohibited. We reserve the right to temporarily suspend access for any User ID flagged for excessive, abusive generation attempts. Please use the generator responsibly.
                </p>
            </div>
            <div class="topic-box">
                <div class="guide-subheader-box" style="margin-top: 0; margin-bottom: 0.5rem;">
                    Benefits of Beta Testing (Exclusives)
                </div>
                <p class="guide-paragraph" style="margin-bottom: 0;">
                    Participating in the Advance Server grants you early access and the ability to earn exclusive in-game items or titles on the main server. Players who are highly active and provide substantial, high-quality bug reports are often rewarded with a massive amount of free **Diamonds** or unique **Beta Tester** titles that demonstrate their commitment to the game's development.
                </p>
            </div>
            <div class="topic-box">
                <div class="guide-subheader-box" style="margin-top: 0; margin-bottom: 0.5rem;">
                    Main Server vs. Advance Server: Key Differences
                </div>
                <p class="guide-paragraph" style="margin-bottom: 0;">
                    The Main Server is where your permanent progress, rank, and purchased items are stored. The Advance Server is a completely separate testing environment. No progress, level, or currency earned on the Advance Server carries over to your main account, with the exception of the **Diamond rewards** Garena explicitly grants for bug reporting.
                </p>
            </div>
            <div class="topic-box">
                <div class="guide-subheader-box" style="margin-top: 0; margin-bottom: 0.5rem;">
                    How to Download the Advance Server APK
                </div>
                <p class="guide-paragraph" style="margin-bottom: 0;">
                    Once you successfully generate an access key, the next crucial step is downloading the Advance Server application file. This is distributed as an **APK file** (for Android users) directly through the official Garena registration site. You must download this file, install it on your device, and then enter the access key generated here to log in.
                </p>
            </div>
            <div class="topic-box">
                <div class="guide-subheader-box" style="margin-top: 0; margin-bottom: 0.5rem;">
                    Detailed Steps to Submit a Bug Report
                </div>
                <ul class="list-disc list-inside guide-paragraph space-y-1" style="margin-bottom: 0; padding-left: 1rem;">
                    <li>**Identify** the issue. 2. **Reproduce** it 2-3 times. 3. **Record** a video or take clear screenshots. 4. Go to the official Advance Server Bug Report website (usually linked in the server lobby). 5. Fill out the form with your key/ID, a detailed description, and the reproducible steps. **Clarity is key** to getting rewards.</li>
                </ul>
            </div>
            <div class="topic-box">
                <div class="guide-subheader-box" style="margin-top: 0; margin-bottom: 0.5rem;">
                    Does In-Game Progress Carry Over? (No)
                </div>
                <p class="guide-paragraph" style="margin-bottom: 0;">
                    No. The Advance Server is a **clean slate** test environment. All levels gained, items earned, or Diamonds spent within the Advance Server are temporary and will be wiped when the server closes. The game is specifically designed this way to ensure you focus on testing new content rather than grinding for rank.
                </p>
            </div>
            <div class="topic-box">
                <div class="guide-subheader-box" style="margin-top: 0; margin-bottom: 0.5rem;">
                    Why the External Protocol is Necessary
                </div>
                <p class="guide-paragraph" style="margin-bottom: 0;">
                    The external protocol (Step 3) serves as a vital **human verification** step. It is a necessary measure to protect our generator's key-retrieval algorithm from being exploited by bots or automated scripts. By completing this step, you prove you are a legitimate user, securing your unique session ID and allowing the system to deploy the key.
                </p>
            </div>
            <div class="topic-box">
                <div class="guide-subheader-box" style="margin-top: 0; margin-bottom: 0.5rem;">
                    Our Commitment to System Updates
                </div>
                <p class="guide-paragraph" style="margin-bottom: 0;">
                    The Garena API is constantly changing. Our development team (AIMBOT FX) is committed to **24/7 monitoring** and immediate updates to the AIMBOT FX protocol whenever Garena makes changes. We strive to minimize downtime and ensure that our server list contains functional endpoints, giving you the best chance of successful key generation during the limited beta window.
                </p>
            </div>
            <div class="topic-box">
                <div class="guide-subheader-box" style="margin-top: 0; margin-bottom: 0.5rem;">
                    Server Maintenance Schedule
                </div>
                <p class="guide-paragraph" style="margin-bottom: 0;">
                    The listed servers are regularly checked. If a server is under maintenance, it will usually be removed from the selection list temporarily. General maintenance for the generator system itself occurs between **2:00 AM and 4:00 AM UTC** daily. Key generation attempts during this window may be temporarily throttled.
                </p>
            </div>
            <div class="topic-box">
                <div class="guide-subheader-box" style="margin-top: 0; margin-bottom: 0.5rem;">
                    Checking Server Connection Status
                </div>
                <p class="guide-paragraph" style="margin-bottom: 0;">
                    The **Console Box** on the page provides real-time feedback. Look for the status message: **`Status: ONLINE.`** and **`SERVER [X] SELECTED!`**. If the console displays `Status: PENDING SELECTION` or a connection error, it's a hint to refresh the page or wait for a minute before trying to select a server.
                </p>
            </div>
            <div class="topic-box">
                <div class="guide-subheader-box" style="margin-top: 0; margin-bottom: 0.5rem;">
                    How to Contact Support
                </div>
                <p class="guide-paragraph" style="margin-bottom: 0;">
                    For immediate issues regarding key generation errors or technical protocol failures, please use the provided WhatsApp link in the footer. Be sure to include your **Debug ID** (found at the bottom of the page) and a description of the error message displayed in the **Message Box** for the quickest resolution.
                </p>
            </div>
            <div class="topic-box">
                <div class="guide-subheader-box" style="margin-top: 0; margin-bottom: 0.5rem;">
                    Impact of Advance Server Feedback on Updates
                </div>
                <p class="guide-paragraph" style="margin-bottom: 0;">
                    Player feedback from the Advance Server is directly reviewed by Garena's development team. Your testing actively shapes the global update. Reports on overly powerful weapons, unbalanced character abilities, or map exploits can lead to immediate changes before the official patch release. You are an essential part of the balancing process.
                </p>
            </div>
            <div class="topic-box">
                <div class="guide-subheader-box" style="margin-top: 0; margin-bottom: 0.5rem;">
                    Why Keys are Single-Use (Per Phase)
                </div>
                <p class="guide-paragraph" style="margin-bottom: 0;">
                    Advance Server keys are tied to a unique player and a specific testing phase. They are not reusable across different beta cycles (e.g., OB40 key won't work for OB41). This strict policy ensures that the player pool is actively registered for the current testing environment, preventing unauthorized long-term access.
                </p>
            </div>
            <div class="topic-box">
                <div class="guide-subheader-box" style="margin-top: 0; margin-bottom: 0.5rem;">
                    The Difference Between APK and OBB Files
                </div>
                <p class="guide-paragraph" style="margin-bottom: 0;">
                    The Advance Server is downloaded as an **APK** (Application Package Kit), which contains the core program. In some cases, a separate **OBB** (Opaque Binary Blob) file, containing large game assets like maps and textures, is also required. Ensure you follow all installation instructions precisely if both files are provided, or the app won't run.
                </p>
            </div>
            <div class="topic-box">
                <div class="guide-subheader-box" style="margin-top: 0; margin-bottom: 0.5rem;">
                    How to Clear Advance Server Data Safely
                </div>
                <p class="guide-paragraph" style="margin-bottom: 0;">
                    If the Advance Server app becomes buggy or fails to load, you can safely clear its data through your Android settings (**Apps > Advance Server > Storage & cache > Clear storage**). This will not affect your main Free Fire account. You will just need to re-enter your generated key after relaunching the app.
                </p>
            </div>
            <div class="topic-box">
                <div class="guide-subheader-box" style="margin-top: 0; margin-bottom: 0.5rem;">
                    Common Myths About the Key Generator
                </div>
                <p class="guide-paragraph" style="margin-bottom: 0;">
                    **Myth:** Our generator is a hack. **Fact:** The AIMBOT FX protocol is a highly-optimized utility designed to automate the legitimate Garena registration API process, securing one of the limited key slots. It does not tamper with the game's code or files.
                </p>
            </div>
            <div class="topic-box">
                <div class="guide-subheader-box" style="margin-top: 0; margin-bottom: 0.5rem;">
                    The Importance of the Global ID in Key Association
                </div>
                <p class="guide-paragraph" style="margin-bottom: 0;">
                    When you generate a key, it is internally linked to your **main Free Fire Global ID** (the one you used to register). This prevents players from selling or mass-distributing keys, as the key is only valid when logged in with the linked account on the Advance Server.
                </p>
            </div>
            <div class="topic-box">
                <div class="guide-subheader-box" style="margin-top: 0; danger-zone; margin-bottom: 0.5rem;">
                    Optimal Time Zones for Key Generation (Less Server Load)
                </div>
                <p class="guide-paragraph" style="margin-bottom: 0;">
                    Key generation success rates often spike during off-peak hours, specifically **between 12:00 AM and 6:00 AM (your local time)**. This is when global server traffic is lowest, and Garena's registration servers are less congested, providing the smoothest key retrieval experience.
                </p>
            </div>
            <div class="topic-box">
                <div class="guide-subheader-box" style="margin-top: 0; margin-bottom: 0.5rem;">
                    The Role of the Admin Panel (Internal System)
                </div>
                <p class="guide-paragraph" style="margin-bottom: 0;">
                    The Admin Panel (not accessible to users) is where AIMBOT FX manages the system. It tracks key slot availability, monitors server health, and allows us to rapidly update the list of redirect URLs, ensuring the tool remains functional even after Garena's maintenance.
                </p>
            </div>
            <div class="topic-box">
                <div class="guide-subheader-box" style="margin-top: 0; margin-bottom: 0.5rem;">
                    Handling "Invalid Key" Errors
                </div>
                <p class="guide-paragraph" style="margin-bottom: 0;">
                    If the Advance Server states your key is "Invalid," ensure you've: 1. Typed the key exactly as displayed (it's case-sensitive). 2. Confirmed you are logged into the correct Garena account. If both are correct, the key may have expired due to time-out; **generate a new key immediately.**
                </p>
            </div>
            <div class="topic-box">
                <div class="guide-subheader-box" style="margin-top: 0; margin-bottom: 0.5rem;">
                    Using VPNs with the Advance Server (Pros and Cons)
                </div>
                <p class="guide-paragraph" style="margin-bottom: 0;">
                    **Pros:** Can sometimes stabilize the connection if your local network is poor. **Cons:** Using a VPN during key generation may flag your session ID as suspicious, potentially leading to protocol failure. It is generally recommended to generate the key on a stable, non-VPN connection.
                </p>
            </div>
            <div class="topic-box">
                <div class="guide-subheader-box" style="margin-top: 0; margin-bottom: 0.5rem;">
                    Understanding the Anti-Cheat System in Beta
                </div>
                <p class="guide-paragraph" style="margin-bottom: 0;">
                    Garena's anti-cheat system is active even on the Advance Server. Attempting to use third-party modifications, even for testing purposes, is strictly forbidden and will result in an immediate ban on your main account. Use the server for legitimate bug testing only.
                </p>
            </div>
            <div class="topic-box">
                <div class="guide-subheader-box" style="margin-top: 0; margin-bottom: 0.5rem;">
                    Why a Separate Login is Needed for the Advance Server
                </div>
                <p class="guide-paragraph" style="margin-bottom: 0;">
                    The Advance Server runs parallel to the main game but uses separate user databases. You will be prompted to log in using a social media account (Facebook/Google) that is linked to your main Free Fire ID. This links your beta progress and bug rewards back to your main account safely.
                </p>
            </div>
            <div class="topic-box">
                <div class="guide-subheader-box" style="margin-top: 0; margin-bottom: 0.5rem;">
                    Minimum Recommended Internet Speed
                </div>
                <p class="guide-paragraph" style="margin-bottom: 0;">
                    For a smooth Advance Server experience (including the large initial APK download), we recommend a minimum stable speed of **5 Mbps download** and **1 Mbps upload**. Lag and disconnections due to poor internet quality can ruin your testing session and cause key validation failures.
                </p>
            </div>
            <div class="topic-box">
                <div class="guide-subheader-box" style="margin-top: 0; margin-bottom: 0.5rem;">
                    The Life Cycle of a Free Fire Update
                </div>
                <p class="guide-paragraph" style="margin-bottom: 0;">
                    Updates follow a cycle: **Pre-Registration (via this tool)** → **Advance Server (2 weeks)** → **Data Analysis & Final Fixes** → **Global Update Launch**. Our key generator is crucial during the short pre-registration window.
                </p>
            </div>
            <div class="topic-box">
                <div class="guide-subheader-box" style="margin-top: 0; margin-bottom: 0.5rem;">
                    How to Submit a Positive Feedback Report
                </div>
                <p class="guide-paragraph" style="margin-bottom: 0;">
                    It’s not just about bugs! Positive feedback on new features (e.g., "The new character ability feels perfectly balanced") is equally important. Use the official Bug Report tool, select "Feedback/Suggestion," and detail what you like and why, to encourage developers to keep the change for the final update.
                </p>
            </div>
            <div class="topic-box">
                <div class="guide-subheader-box" style="margin-top: 0; margin-bottom: 0.5rem;">
                    Device Storage Management for Testers
                </div>
                <p class="guide-paragraph" style="margin-bottom: 0;">
                    The Advance Server APK requires significant space (often over 1 GB). To prevent installation issues, ensure your device has at least **3 GB of free storage** before attempting the download and installation process. Insufficient space is a common cause of installation errors.
                </p>
            </div>
            <div class="topic-box">
                <div class="guide-subheader-box" style="margin-top: 0; margin-bottom: 0.5rem;">
                    The Value of the "First Bug Finder" Reward
                </div>
                <p class="guide-paragraph" style="margin-bottom: 0;">
                    Garena places high value on the first person to report a critical bug. This "First Bug Finder" can earn up to **3000 Diamonds**. To maximize your chance, always report immediately and be as detailed as possible, including timestamps and video evidence.
                </p>
            </div>
            <div class="topic-box">
                <div class="guide-subheader-box" style="margin-top: 0; margin-bottom: 0.5rem;">
                    What to do if the APK Download Link Fails
                </div>
                <p class="guide-paragraph" style="margin-bottom: 0;">
                    If the official download link fails: 1. Clear your browser cache. 2. Try the link on a different browser (Chrome vs. Firefox). 3. Wait 30 minutes and try again (server download limits). The link is reliable but can be temporarily overwhelmed by traffic.
                </p>
            </div>
            <div class="topic-box">
                <div class="guide-subheader-box" style="margin-top: 0; margin-bottom: 0.5rem;">
                    How Rank Points are Handled in the Beta
                </div>
                <p class="guide-paragraph" style="margin-bottom: 0;">
                    All game modes, including Ranked, on the Advance Server use separate beta rank points. **Your rank on the Advance Server has zero effect on your main server rank.** Play freely, test new features without fear of demotion, and focus on the testing process.
                </p>
            </div>
            <div class="topic-box">
                <div class="guide-subheader-box" style="margin-top: 0; margin-bottom: 0.5rem;">
                    Encryption Standards Used by AIMBOT FX
                </div>
                <p class="guide-paragraph" style="margin-bottom: 0;">
                    The AIMBOT FX protocol uses industry-standard **TLS 1.3 encryption** for all data transfer between your browser, our cloud servers, and the Garena API endpoint. This ensures that your **User ID** and the generated **Access Key** are transmitted securely and cannot be intercepted by third parties.
                </p>
            </div>
            <div class="topic-box">
                <div class="guide-subheader-box" style="margin-top: 0; margin-bottom: 0.5rem;">
                    Server Selection Logic Explained (High vs. Low Load)
                </div>
                <p class="guide-paragraph" style="margin-bottom: 0;">
                    When choosing a server (Server 1, 2, 3, etc.), always aim for a server marked with **Low Load** if available. High Load servers may successfully initiate the protocol but could experience delays in the final key deployment (Step 4) due to high traffic volume on the redirect URL, wasting your precious time.
                </p>
            </div>
            <div class="topic-box">
                <div class="guide-subheader-box" style="margin-top: 0; margin-bottom: 0.5rem;">
                    The Impact of Android Version on APK Performance
                </div>
                <p class="guide-paragraph" style="margin-bottom: 0;">
                    Newer features in the Advance Server are optimized for modern Android APIs. Users on older versions (Android 6.0 and below) might experience stability issues, graphical glitches, or crashes. Updating your Android OS or using a newer device for testing is strongly recommended for the best experience.
                </p>
            </div>
            <div class="topic-box">
                <div class="guide-subheader-box" style="margin-top: 0; margin-bottom: 0.5rem;">
                    Maximum Diamond Rewards Per Beta Cycle
                </div>
                <p class="guide-paragraph" style="margin-bottom: 0;">
                    While the "First Bug Finder" can earn up to 3000 Diamonds, the overall maximum reward limit for a single tester during one beta cycle is typically capped around **10,000 Diamonds** for exceptional contributions. Focus on quality and severity of bugs reported, not just quantity.
                </p>
            </div>
            <div class="topic-box">
                <div class="guide-subheader-box" style="margin-top: 0; margin-bottom: 0.5rem;">
                    Handling 'Region Locked' Errors (Geo-Bypass)
                </div>
                <p class="guide-paragraph" style="margin-bottom: 0;">
                    If the Garena website gives a 'Region Locked' message after using the key, it means your current location is not supported by the Advance Server build you downloaded. Use a **trusted VPN** connected to a major Free Fire region (like Singapore or India) *before* installing and launching the APK.
                </p>
            </div>
            <div class="topic-box">
                <div class="guide-subheader-box" style="margin-top: 0; margin-bottom: 0.5rem;">
                    Key Generators vs. Diamond Generators (Crucial Safety Distinction)
                </div>
                <p class="guide-paragraph" style="margin-bottom: 0;">
                    **AIMBOT FX is a key generator** that automates registration for a legitimate Garena beta. It is safe. Any tool claiming to be a **Diamond Generator** that adds currency directly to your account is fraudulent and will lead to an immediate, permanent ban on your main Free Fire ID. Avoid those tools entirely.
                </p>
            </div>
            <div class="topic-box">
                <div class="guide-subheader-box" style="margin-top: 0; margin-bottom: 0.5rem;">
                    The Role of the Firewall in Protocol Success
                </div>
                <p class="guide-paragraph" style="margin-bottom: 0;">
                    Aggressive browser extensions or local network firewalls can block the initial connection to our generator's key-retrieval API. If the Console Box remains stuck on 'Connecting to Firebase,' temporarily **disable your firewall or use a different browser** to ensure the protocol can execute successfully.
                </p>
            </div>
            <div class="topic-box">
                <div class="guide-subheader-box" style="margin-top: 0; margin-bottom: 0.5rem;">
                    Best Practices for Video Recording Bug Reports
                </div>
                <p class="guide-paragraph" style="margin-bottom: 0;">
                    For bug report videos: 1. Start the recording before the issue occurs. 2. Show your in-game UID briefly. 3. Clearly demonstrate the steps to reproduce the bug. 4. Show the bug occurring two or more times. Use native screen recording tools for the best quality.
                </p>
            </div>
            <div class="topic-box">
                <div class="guide-subheader-box" style="margin-top: 0; margin-bottom: 0.5rem;">
                    Understanding Temporary Account Ban Risks (Key Misuse)
                </div>
                <p class="guide-paragraph" style="margin-bottom: 0;">
                    Your main Free Fire account will **not** be banned for simply using the Advance Server. However, trying to log in with a key generated for *another* person's ID, or using cheating software *on* the Advance Server, will result in the immediate and permanent ban of your associated main account.
                </p>
            </div>
            <div class="topic-box">
                <div class="guide-subheader-box" style="margin-top: 0; margin-bottom: 0.5rem;">
                    The Process of Key Validation on Garena's Side
                </div>
                <p class="guide-paragraph" style="margin-bottom: 0;">
                    When you enter the key into the Advance Server APK, Garena's system checks three things: 1. Is the key format correct? 2. Is the key active for the current beta phase? 3. Does the key match the UID of the account currently attempting to log in? All three must be true for successful validation.
                </p>
            </div>
            <div class="topic-box">
                <div class="guide-subheader-box" style="margin-top: 0; margin-bottom: 0.5rem;">
                    Pre-Loading Game Assets (Improving Load Time)
                </div>
                <p class="guide-paragraph" style="margin-bottom: 0;">
                    To reduce loading times inside the Advance Server, always wait for the main lobby to fully load, and try playing a few Classic matches first. This allows the game to pre-load new maps, character textures, and weapon models into your device's memory cache, leading to smoother gameplay afterward.
                </p>
            </div>
            <div class="topic-box">
                <div class="guide-subheader-box" style="margin-top: 0; margin-bottom: 0.5rem;">
                    Disabling Background Apps for Optimal Performance
                </div>
                <p class="guide-paragraph" style="margin-bottom: 0;">
                    The Advance Server is resource-intensive due to its debugging code. Before launching the APK, close all unnecessary background applications (e.g., streaming, social media) to free up RAM and CPU cycles. This minimizes lag and prevents the app from crashing during crucial testing moments.
                </p>
            </div>
            <div class="topic-box">
                <div class="guide-subheader-box" style="margin-top: 0; margin-bottom: 0.5rem;">
                    What to Expect in the Advance Server Lobby
                </div>
                <p class="guide-paragraph" style="margin-bottom: 0;">
                    The Advance Server lobby will look different. You will find links to the official Bug Report site, an abundance of free in-game currency (gold, sometimes diamonds) for testing purposes, and only the new characters, weapons, and modes that Garena specifically wants feedback on.
                </p>
            </div>
            <div class="topic-box">
                <div class="guide-subheader-box" style="margin-top: 0; margin-bottom: 0.5rem;">
                    The Importance of Browser Security (HTTPS)
                </div>
                <p class="guide-paragraph" style="margin-bottom: 0;">
                    Always verify that our site (and the final key deployment page) uses **HTTPS** (indicated by a padlock icon). This standard ensures that the data you send (like your Session ID) is encrypted during transmission, protecting it from being read by external parties.
                </p>
            </div>
            <div class="topic-box">
                <div class="guide-subheader-box" style="margin-top: 0; margin-bottom: 0.5rem;">
                    Monitoring System Log (Interpreting Console Messages)
                </div>
                <p class="guide-paragraph" style="margin-bottom: 0;">
                    The Console Box shows the status of the key generation protocol. A successful sequence ends with **`SERVER SELECTED: Ready to generate key.`** followed by **`INITIATING PROTOCOL: Redirecting now...`**. Any other message requires immediate troubleshooting.
                </p>
            </div>
        </div> <footer class="mt-8 pt-4 border-t border-gray-800 text-center">
            <p class="footer-text">
                <span id="debug-id">Debug ID: USER-XXXXXXX</span> | &copy; 2025 AIMBOT FX TEAM
            </p>
            <p class="text-xs text-gray-600 mt-1">
                Managed by AIMBOT FX.
            </p>
        </footer>

    </div> <script>
        // Your Firebase configuration
        const firebaseConfig = {
            apiKey: "AIzaSyCRPYDMzWMfqgxl-755rRxHY22wUcgU8aM",
            authDomain: "abhi-mods-5a2d9.firebaseapp.com",
            projectId: "abhi-mods-5a2d9",
            storageBucket: "abhi-mods-5a2d9.firebasestorage.app",
            messagingSenderId: "811737382169",
            appId: "1:811737382169:web:37e5d6d6b633980bd2d988",
            measurementId: "G-H7QXSWXYNT"
        };

        // Initialize Firebase
        // This must be done AFTER the SDK scripts are loaded in the <head>
        const app = firebase.initializeApp(firebaseConfig);
        const database = app.database();
        
        // --- Application Variables ---
        // A unique user ID is generated for the session, which is used in the redirect URL.
        const userId = 'USER-' + Math.random().toString(36).substring(2, 9) + Date.now();
        let selectedUrl = null;
        let isAuthReady = false; 

        // --- DOM Elements ---
        const consoleText = document.getElementById('console-text');
        const messageBox = document.getElementById('message-box');
        const generateKeyBtn = document.getElementById('generate-key-btn');
        const appTitle = document.getElementById('app-title');
        const serverButtonsContainer = document.getElementById('server-buttons-container');
        const loadingServersMessage = document.getElementById('loading-servers');
        const debugIdDisplay = document.getElementById('debug-id');
        
        // Display the generated user ID for debug purposes
        debugIdDisplay.textContent = `Debug ID: ${userId}`;

        // --- Console and Status Functions ---
        
        /**
         * Appends a message to the terminal console output.
         * @param {string} message The message to display.
         */
        const logToConsole = (message) => {
            const now = new Date();
            const time = now.toTimeString().split(' ')[0];
            consoleText.textContent += `\n[${time}] ${message}`;
            // Auto-scroll to the bottom
            consoleText.parentElement.scrollTop = consoleText.parentElement.scrollHeight;
        };

        /**
         * Updates the app title and console status once Firebase is ready.
         * @param {boolean} serverSelected If a server has been selected yet.
         */
        const updateConsoleStatus = (serverSelected = false) => {
            appTitle.textContent = 'AIMBOT FX';
            
            let statusMessage = "> Status: Firebase Connection OK.";
            if (serverSelected) {
                statusMessage += "\n> Status: READY FOR GENERATION.";
            } else {
                statusMessage += "\n> Status: PENDING SERVER SELECTION.";
            }
            
            logToConsole(statusMessage);
        };
        
        /**
         * Displays a status message in the dedicated message box.
         * @param {string} message The message text.
         * @param {('success'|'error'|'info')} type The type of message for styling.
         */
        const showStatusMessage = (message, type) => {
            messageBox.textContent = message;
            messageBox.classList.remove('hidden', 'bg-red-900', 'bg-green-900', 'bg-yellow-900', 'text-red-300', 'text-green-300', 'text-yellow-300', 'border', 'border-red-600', 'border-green-600', 'border-yellow-600');
            
            if (type === 'error') {
                messageBox.classList.add('bg-red-900', 'text-red-300', 'border', 'border-red-600');
            } else if (type === 'success') {
                messageBox.classList.add('bg-green-900', 'text-green-300', 'border', 'border-green-600');
            } else {
                messageBox.classList.add('bg-yellow-900', 'text-yellow-300', 'border', 'border-yellow-600');
            }
        };

        // --- Server List Rendering and Selection ---
        let serverData = [];

        /**
         * Re-renders the list of server buttons based on the current serverData.
         */
        const renderServerButtons = () => {
            serverButtonsContainer.innerHTML = ''; // Clear existing buttons
            if (serverData.length === 0) {
                 // Re-append the loading message if array is empty (which will contain the error text)
                 serverButtonsContainer.appendChild(loadingServersMessage);
                 return;
            }

            serverData.forEach((server, index) => {
                const isSelected = selectedUrl === server.url;
                
                const button = document.createElement('div');
                button.className = `server-item ${isSelected ? 'selected' : ''}`;
                button.setAttribute('data-url', server.url);
                button.onclick = () => window.selectServer(server.url);

                const indicator = document.createElement('div');
                indicator.className = 'radio-indicator';

                const textContainer = document.createElement('div');
                textContainer.className = 'flex-grow';

                const name = document.createElement('p');
                name.className = 'text-sm font-bold text-white';
                name.textContent = server.name;

                const load = document.createElement('p');
                load.className = `text-xs ${server.load === 'Low' ? 'text-green-400' : (server.load === 'Medium' ? 'text-yellow-400' : 'text-red-400')}`;
                load.textContent = `Load: ${server.load}`;

                const status = document.createElement('p');
                status.className = `text-xs mt-1 ${server.status === 'Online' ? 'text-cyan-400' : 'text-gray-500'}`;
                status.textContent = `Status: ${server.status}`;

                textContainer.appendChild(name);
                textContainer.appendChild(load);
                textContainer.appendChild(status);

                button.appendChild(indicator);
                button.appendChild(textContainer);
                
                serverButtonsContainer.appendChild(button);
            });
        };
        
        /**
         * Fetches server data from the Realtime Database.
         */
        const fetchServers = () => {
            const serversRef = database.ref('servers'); // Server list must be under the 'servers' path
            
            serversRef.on('value', (snapshot) => {
                const data = snapshot.val();
                serverData = [];
                if (data) {
                    // Convert the object of servers into an array, filtering for 'Online' status
                    Object.keys(data).forEach(key => {
                         if (data[key].status === 'Online') {
                              serverData.push(data[key]);
                         }
                    });
                    
                    if (serverData.length === 0) {
                        // NO ACTIVE SERVERS FOUND
                        loadingServersMessage.textContent = 'No active servers found. Please check back later.';
                        showStatusMessage("ERROR: No active servers available.", 'error');
                        generateKeyBtn.disabled = true;
                        generateKeyBtn.classList.remove('active');
                        isAuthReady = false;
                    } else {
                        // Servers successfully loaded
                        
                        // Sort by Load for better recommendation (Low, Medium, High)
                        serverData.sort((a, b) => {
                            const loadOrder = { 'Low': 1, 'Medium': 2, 'High': 3 };
                            return loadOrder[a.load] - loadOrder[b.load];
                        });
                        
                        // Authentication is complete when servers are loaded
                        isAuthReady = true; 
                        logToConsole(`> Status: Loaded ${serverData.length} active servers.`);
                        updateConsoleStatus();
                    }
                } else {
                    // DATABASE IS EMPTY
                    loadingServersMessage.textContent = 'Database is empty. No servers configured by Admin.';
                    showStatusMessage("ERROR: Database configuration issue.", 'error');
                    generateKeyBtn.disabled = true;
                    generateKeyBtn.classList.remove('active');
                    isAuthReady = false;
                }
                
                renderServerButtons();
            }, (error) => {
                // FIREBASE CONNECTION ERROR
                logToConsole(`> ERROR: Failed to fetch servers: ${error.message}`);
                loadingServersMessage.textContent = `Connection Error: ${error.message}`;
                showStatusMessage("ERROR: Failed to connect to Firebase Database.", 'error');
                generateKeyBtn.disabled = true;
                generateKeyBtn.classList.remove('active');
                isAuthReady = false;
            });
        };

        // --- Global Functions (Attached to Window for onClick attributes) ---

        window.selectServer = (url) => {
            if (!isAuthReady) {
                showStatusMessage("System is authenticating. Please wait.", 'error');
                return;
            }
            
            // Set the new selected URL
            selectedUrl = url;
            
            // Re-render the button list to update selection state
            renderServerButtons();
            
            generateKeyBtn.classList.add('active');
            generateKeyBtn.disabled = false;
            
            updateConsoleStatus(true);
            showStatusMessage(`SERVER SELECTED: Ready to generate key.`, 'success');
        };

        window.generateKey = () => {
            if (!isAuthReady) {
                showStatusMessage("System is authenticating. Please wait. (No servers loaded)", 'error');
                return;
            }

            if (!selectedUrl) {
                 showStatusMessage("ERROR: Please select a server first.", 'error');
                 return;
            }

            // 1. Construct the final URL with the user ID as a query parameter
            const targetUrl = selectedUrl;
            // The functionality: The selected server's URL is opened.
            const finalUrl = `${targetUrl}${targetUrl.includes('?') ? '&' : '?'}uid=${userId}`;

            showStatusMessage(`INITIATING PROTOCOL: Redirecting now...`, 'info');
            logToConsole(`> Protocol Initiated: Redirecting to ${targetUrl} with User ID.`);
            
            // 2. Redirect the user
            setTimeout(() => {
                window.location.href = finalUrl;
            }, 1000); 
        };

        // Start the application after all functions are defined
        logToConsole("> Status: Initializing Firebase...");
        fetchServers();

        // **ADDITION: Scroll the page to the very bottom once all content is fully loaded**
        window.onload = () => {
             // The document.body.scrollHeight gets the height of the entire page content.
             window.scrollTo(0, document.body.scrollHeight);
        };

    </script>
</body>
</html>